<div [ngSwitch]="nodetype">

  <cm-input *ngSwitchCase="'input'" [data]="data" (dataChange)="setData($event)" [configuration]="configuration" [name]="name"></cm-input>

  <div class="list "*ngSwitchCase="'list'" [class.mat-elevation-z2]="true">
    <div *ngFor="let item of items; index as i; last as last">
        <button class="deleteitembutton" mat-icon-button (click)="deleteItem(i)">
            <mat-icon>clear</mat-icon>
        </button>
        <cm-object 
            [data]="getItemData(i)" 
            [nodetype]="configuration.nodetype" 
            [configuration]="configuration.configuration" 
            (dataChange)="setItemData(i,$event)">
       </cm-object>
       <mat-divider [inset]="true" *ngIf="!last"></mat-divider>
    </div>
    <button class="additembutton" mat-icon-button (click)="addItem()">
        <mat-icon>add</mat-icon>
    </button>
</div>

  <!-- *ngIf="interfaceSelection"  -->
  <div class="interface" *ngSwitchCase="'interface'" [class.mat-elevation-z2]="true">
        <mat-form-field>
                <mat-select (selectionChange)="interfaceSelectionChange($event)" [value]="interfaceSelection" >
                  <mat-option *ngFor="let type of configuration.types" [(value)]="type">
                    {{type}}
                  </mat-option>
                </mat-select>
        </mat-form-field>
        <cm-object *ngIf="interfaceSelection"
            [data]="data" 
            (dataChange)="interfaceInstanceDataChange($event)"
            [configuration]="interfaceInstanceConfiguration"
            [name]="name" 
            [nodetype]="'class'"
            [parentnodetype]="nodetype" >
        </cm-object>
    </div>

  <div *ngSwitchCase="'class'" [class.mat-elevation-z2]="parentnodetype !== 'interface'"  [ngClass]="'class' + (parentnodetype || '')"  [class.mat-elevation-z2]="parentnodetype !== 'interface'">
      <div *ngFor="let property of properties"> 
          <label *ngIf="property.nodetype !== 'input'" class="mat-h2">{{property.name}}</label>
          <cm-object 
            [data]="getPropertyData(property.name)" 
            (dataChange)="setPropertyData(property.name,$event)" 
            [configuration]="property.configuration" 
            [name]="property.name"
            [nodetype]="property.nodetype">
          </cm-object>
      </div>
   </div>

</div>
