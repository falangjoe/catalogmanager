<div [ngSwitch]="nodetype">

  <cm-input *ngSwitchCase="'input'" [data]="data" (dataChange)="setData($event)" [configuration]="configuration" [name]="name"></cm-input>

  <div *ngSwitchCase="'list'">
    <div *ngFor="let item of items; index as i">
        <button (click)="deleteItem(i)">Delete Item</button>
        <cm-object 
            [data]="getItemData(i)" 
            [nodetype]="configuration.nodetype" 
            [configuration]="configuration.configuration" 
            (dataChange)="setItemData(i,$event)">
       </cm-object>
    </div>
    <button (click)="addItem()">Add Item</button>
  </div>

  <!-- *ngIf="interfaceSelection"  -->
  <div *ngSwitchCase="'interface'" >
        <mat-form-field>
                <mat-select placeholder="{{configuration.type}}" (selectionChange)="interfaceSelectionChange($event)" [value]="interfaceSelection" >
                  <mat-option *ngFor="let type of configuration.types" [(value)]="type">
                    {{type}}
                  </mat-option>
                </mat-select>
        </mat-form-field>
        <cm-object *ngIf="interfaceSelection"
            [data]="data" 
            (dataChange)="interfaceInstanceDataChange($event)"
            [configuration]="interfaceInstanceConfiguration"
            [name]="name" 
            [nodetype]="'class'" >
        </cm-object>
  </div>

  <div *ngSwitchCase="'class'" >
      <div *ngFor="let property of properties"> 
          <cm-object 
            [data]="getPropertyData(property.name)" 
            (dataChange)="setPropertyData(property.name,$event)" 
            [configuration]="property.configuration" 
            [name]="property.name"
            [nodetype]="property.nodetype">
          </cm-object>
      </div>
  </div>

</div>
